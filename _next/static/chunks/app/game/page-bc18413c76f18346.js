(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[925],{12873:(e,t,n)=>{Promise.resolve().then(n.bind(n,21401))},21401:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>v});var o=n(92905),r=n(60925),i=n(21885),s=n(14822);let c=new i.O9p(0,0,0,"YXZ"),l=new i.Pq0,a={type:"change"},d={type:"lock"},u={type:"unlock"},h=Math.PI/2;class m extends i.H2z{constructor(e,t=null){super(e,t),this.isLocked=!1,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.pointerSpeed=1,this._onMouseMove=p.bind(this),this._onPointerlockChange=f.bind(this),this._onPointerlockError=w.bind(this),null!==this.domElement&&this.connect()}connect(){this.domElement.ownerDocument.addEventListener("mousemove",this._onMouseMove),this.domElement.ownerDocument.addEventListener("pointerlockchange",this._onPointerlockChange),this.domElement.ownerDocument.addEventListener("pointerlockerror",this._onPointerlockError)}disconnect(){this.domElement.ownerDocument.removeEventListener("mousemove",this._onMouseMove),this.domElement.ownerDocument.removeEventListener("pointerlockchange",this._onPointerlockChange),this.domElement.ownerDocument.removeEventListener("pointerlockerror",this._onPointerlockError)}dispose(){this.disconnect()}getObject(){return console.warn("THREE.PointerLockControls: getObject() has been deprecated. Use controls.object instead."),this.object}getDirection(e){return e.set(0,0,-1).applyQuaternion(this.object.quaternion)}moveForward(e){if(!1===this.enabled)return;let t=this.object;l.setFromMatrixColumn(t.matrix,0),l.crossVectors(t.up,l),t.position.addScaledVector(l,e)}moveRight(e){if(!1===this.enabled)return;let t=this.object;l.setFromMatrixColumn(t.matrix,0),t.position.addScaledVector(l,e)}lock(){this.domElement.requestPointerLock()}unlock(){this.domElement.ownerDocument.exitPointerLock()}}function p(e){if(!1===this.enabled||!1===this.isLocked)return;let t=this.object;c.setFromQuaternion(t.quaternion),c.y-=.002*e.movementX*this.pointerSpeed,c.x-=.002*e.movementY*this.pointerSpeed,c.x=Math.max(h-this.maxPolarAngle,Math.min(h-this.minPolarAngle,c.x)),t.quaternion.setFromEuler(c),this.dispatchEvent(a)}function f(){this.domElement.ownerDocument.pointerLockElement===this.domElement?(this.dispatchEvent(d),this.isLocked=!0):(this.dispatchEvent(u),this.isLocked=!1)}function w(){console.error("THREE.PointerLockControls: Unable to use Pointer Lock API")}let v=()=>{let[e,t]=(0,r.useState)(100),[n,c]=(0,r.useState)(!1),[l,a]=(0,r.useState)(0),[d,u]=(0,r.useState)(30),h=(0,r.useRef)(null),p=(0,r.useRef)(null),f=(0,r.useRef)(null),w=(0,r.useRef)(null),v=(0,r.useRef)(null),E=(0,r.useRef)([]),x=(0,r.useRef)(null),b=(0,r.useRef)(null),F={container:{width:"100%",height:"100vh",backgroundColor:"#111111",position:"relative",overflow:"hidden"},hud:{position:"absolute",top:"20px",left:"20px",color:"#FFFFFF",fontFamily:"'Press Start 2P', cursive"},crosshair:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"10px",height:"10px",border:"2px solid white",borderRadius:"50%",pointerEvents:"none",zIndex:10},startScreen:{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0,0,0,0.8)",color:"#FFFFFF",fontFamily:"'Press Start 2P', cursive",zIndex:10},startButton:{backgroundColor:"#FF4136",color:"#FFFFFF",border:"none",padding:"10px 20px",fontFamily:"'Press Start 2P', cursive",cursor:"pointer",marginTop:"20px"}};return(0,r.useEffect)(()=>()=>{if(x.current&&cancelAnimationFrame(x.current),b.current&&clearInterval(b.current),p.current){let e=p.current;E.current.forEach(t=>e.remove(t)),E.current=[]}if(h.current&&w.current)try{h.current.removeChild(w.current.domElement)}catch(e){console.warn("Could not remove renderer element:",e)}},[]),(0,r.useEffect)(()=>{if(!n)return;let e=()=>{let e=p.current;if(f.current,!e||E.current.length>=10)return;let t=new i.iNn(.5,1,.5),n=new i._4j({color:0xff851b}),o=new i.eaF(t,n);o.position.x=50*Math.random()-25,o.position.z=50*Math.random()-25,o.position.y=.5,e.add(o),E.current.push(o)};return(()=>{let o=new i.Z58,r=new i.ubm(75,window.innerWidth/window.innerHeight,.1,1e3);r.position.y=1.6;let l=new s.JeP;l.setSize(window.innerWidth,window.innerHeight),h.current.appendChild(l.domElement);let F=new m(r,l.domElement);o.add(F.getObject());let k=new i.$p8(0xffffff,.5);o.add(k);let P=new i.ZyN(0xffffff,.8);P.position.set(0,10,0),o.add(P);let g=new i.bdM(50,50),j=new i._4j({color:3355443}),M=new i.eaF(g,j);M.rotation.x=-Math.PI/2,o.add(M);let y=new i.V9B({visible:!1}),L=new i.bdM(50,5),C=new i.eaF(L,y);C.position.set(0,2.5,25),o.add(C);let S=new i.bdM(50,5),_=new i.eaF(S,y);_.position.set(0,2.5,-25),_.rotation.y=Math.PI,o.add(_);let I=new i.bdM(50,5),R=new i.eaF(I,y);R.position.set(25,2.5,0),R.rotation.y=Math.PI/2,o.add(R);let D=new i.bdM(50,5),z=new i.eaF(D,y);z.position.set(-25,2.5,0),z.rotation.y=-Math.PI/2,o.add(z),p.current=o,f.current=r,w.current=l,v.current=F,e(),b.current=setInterval(e,2e3);let A=()=>{if(d<=0)return;u(e=>e-1);let e=new i.tBo;e.setFromCamera({x:0,y:0},r);let t=e.intersectObjects(E.current);if(t.length>0){let e=t[0].object;o.remove(e),E.current=E.current.filter(t=>t!==e),a(e=>e+1)}},q=()=>{n&&(x.current=requestAnimationFrame(q),E.current.forEach(e=>{let n=new i.Pq0().subVectors(r.position,e.position).normalize();e.position.x+=.03*n.x,e.position.z+=.03*n.z,2>r.position.distanceTo(e.position)&&t(e=>{let t=Math.max(0,e-10);return 0===t&&c(!1),t})}),l.render(o,r))};return document.addEventListener("mousedown",A),document.addEventListener("click",()=>F.lock()),q(),()=>{document.removeEventListener("mousedown",A),document.removeEventListener("click",()=>F.lock()),b.current&&clearInterval(b.current),x.current&&cancelAnimationFrame(x.current)}})()},[n]),(0,o.jsxs)("div",{style:F.container,ref:h,children:[!n&&(0,o.jsxs)("div",{style:F.startScreen,children:[(0,o.jsx)("h1",{children:"FPS Game"}),(0,o.jsx)("button",{style:F.startButton,onClick:()=>{c(!0),t(100),a(0),u(30)},children:"Start Game"})]}),n&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{style:F.crosshair}),(0,o.jsxs)("div",{style:F.hud,children:[(0,o.jsxs)("div",{children:["Health: ",e]}),(0,o.jsxs)("div",{children:["Score: ",l]}),(0,o.jsxs)("div",{children:["Bullets: ",d]})]})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[928,121,59,217,358],()=>t(12873)),_N_E=e.O()}]);